"use strict";var popupWrapper=document.querySelector(".popup"),activePopup,map=popupWrapper.querySelector(".map"),feedback=popupWrapper.querySelector(".feedback"),feedbackForm=feedback.querySelector(".feedback__form"),mapOpen=document.querySelector(".contacts__map-link"),feedbackOpen=document.querySelector(".contacts__btn"),openPopup=function(e){e.preventDefault();var t=e.currentTarget.classList;t.contains("contacts__map-link")?activePopup=map:t.contains("contacts__btn")&&(activePopup=feedback),activePopup.classList.toggle("hidden"),activePopup.classList.remove("fade-out"),activePopup.classList.toggle("fade-in"),activePopup.addEventListener("click",onCloseBtnClick),popupWrapper.classList.toggle("visually-hidden"),document.addEventListener("keydown",onEscPress)},closePopup=function(){activePopup.removeEventListener("click",onCloseBtnClick),activePopup.classList.toggle("fade-in"),activePopup.classList.add("fade-out"),setTimeout(function(){activePopup.classList.toggle("hidden"),activePopup=void 0,popupWrapper.classList.toggle("visually-hidden")},300),document.removeEventListener("keydown",onEscPress)},onCloseBtnClick=function(e){e.target.classList.contains("popup__close-btn")&&closePopup()},onWrapperClick=function(e){e.target===e.currentTarget&&closePopup()},onEscPress=function(e){27===e.keyCode&&closePopup()},onFormSubmit=function(e){var t=e.target.elements;activePopup.classList.remove("shake"),t[1].value&&t[2].value||(e.preventDefault(),feedbackForm.classList.remove("shake"),feedbackForm.offsetWidth,feedbackForm.classList.add("shake"))};mapOpen.addEventListener("click",openPopup),feedbackOpen.addEventListener("click",openPopup),feedbackForm.addEventListener("submit",onFormSubmit),popupWrapper.addEventListener("click",onWrapperClick);